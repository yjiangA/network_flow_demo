<!DOCTYPE html>
<html>
<head>
    <meta charset="utf-8" />
    <title>Networkflow - Ford-Fulkerson</title>
    <link rel="stylesheet" type="text/css" media="screen" href="style.css" />
</head>


<body>

<div class="title">
    <h1>NETWORK FLOW</h1>
    <h2> Ford-Fulkerson Method </h2>
</div>

<div class="nav-back">
    <div class="nav">
        <ul>
            <li><a href="./index.html">Introduction</a></li>
            <li><a href="./concept.html">Basic Concepts</a></li>
            <li><a href="./ff.html">Ford-Fulkerson</a></li>
            <li><a href="./ek.html">Edmonds-Karp</a></li>
            <li><a href="./lemma.html">Lemmas and Corollaries</a></li>
            <li><a href="./resource.html">Resources</a></li>
            <li><a href="./ref.html">References</a></li>
        </ul>
    </div>
</div>


<div class="section" id="problem_intro_sec">
    <div class="sec_title">
        <p>&nbsp &nbsp &nbsp Basic of Ford-Fulkerson</p>
    </div>
    <div class="content" id="problem_intro_con">
        <p>As we proved previously, when there's some augmenting path in G<sub>f</sub>, we can improve the current flow.</p>
        <p>So the basic idea of Ford-Fulkerson method is: when there's an augmenting path, improve it, repeat until no augmenting path.</p>
        <button id="see_explain">See explaination</button>

        <div style="margin:30px"> 
            <p> <b>FORD-FULKERSON (G, s, t)</b></p>
            <p> <b>for</b> each edge (u,v) &isin; G.E</p>
            <p> &nbsp;&nbsp;&nbsp;&nbsp;(u,v).f = 0   <span class="algo_hint" style="visibility: hidden;">Initialize all flow to be 0</span>  <p>
            <p> <b>while</b> there exists a path p from s to t in the residual network G<sub>f</sub>  <span class="algo_hint" style="visibility: hidden;">If there's any augmenting path</span> </p>
            <p> &nbsp;&nbsp;&nbsp;&nbsp;c<sub>f</sub>(p) = min{ c<sub>f</sub>(u,v) : (u,v) is in p } <span class="algo_hint" style="visibility: hidden;">Find the residual capacity on this path</span> </p>
            <p> &nbsp;&nbsp;&nbsp;&nbsp;<b>for</b> each edge (u,v) in p <span class="algo_hint" style="visibility: hidden;">For each edge in path</span></p>
            <p> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<b>if</b> (u,v) &isin; E <span class="algo_hint" style="visibility: hidden;">If there's an edge from u to v in E, which has some flow.</span></p>
            <p> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(u,v).f = (u,v).f + c<sub>f</sub>(p) <span class="algo_hint" style="visibility: hidden;">Add that much flow</span></p>
            <p> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<b>else</b> (u,v).f = (u,v).f - c<sub>f</sub>(p)<span class="algo_hint" style="visibility: hidden;">Otherwise send back that much flow</span></p>
        </div>


    </div>
</div>


<div class="section" id="def_sec">
    <div class="sec_title">
        <p>&nbsp &nbsp &nbsp Demo of Ford-Fulkerson</p>
    </div>
    <div class="content" id="def_con">

    <div id="step0" style="margin:20px">
        <p>Try the Algorithm here</p>
        

        <button id="step0_next">start</button>
        <p><b>Graph G with flow</b></p>

        <img src="./svg/flow_initial.svg" alt="flow_initial"/>

        <p><b>Residual Network</b></p>

        <img src="./svg/res_initial.svg" alt="res_initial"/>
    </div>

    <div id="step1" style="margin:20px; display: none;">
        <p><b>Step 1 </b> Initialize all flow to be 0, build the residual network.</p>
        
        <button id="step1_prev">Prev</button>
        <button id="step1_next">Next</button>
        <p><b>Graph G with flow</b></p>

        <img src="./svg/flow_initial.svg" alt="flow_initial"/>

        <p><b>Residual Network</b></p>

        <img src="./svg/res_step1.svg" alt="step1"/>
    </div>


    <div id="step2" style="margin:20px; display: none;">
        <p><b>Step 2 </b> Find an augmenting path S->V1->V3->V2->V4->T, smallest c<sub>f</sub>(u,v) is 4.</p>
        
        <button id="step2_prev">Prev</button>
        <button id="step2_next">Next</button>
        <p><b>Graph G with flow</b></p>

        <img src="./svg/flow_initial.svg" alt="flow_initial"/>

        <p><b>Residual Network</b></p>

        <img src="./svg/res_step2.svg" alt="step1"/>
    </div>

    <div id="step3" style="margin:20px; display: none;">
        <p><b>Step 3 </b> Augment the flow on this path by 4. All yellow edges, all add 4.</p>
        
        <button id="step3_prev">Prev</button>
        <button id="step3_next">Next</button>
        <p><b>Graph G with flow</b></p>

        <img src="./svg/flow_step3.svg" alt="flow_initial"/>

        <p><b>Residual Network</b></p>

        <img src="./svg/res_step2.svg" alt="step1"/>
    </div>

    <div id="step4" style="margin:20px; display: none;">
        <p><b>Step 4 </b> Build current residual network.</p>
        
        <button id="step4_prev">Prev</button>
        <button id="step4_next">Next</button>
        <p><b>Graph G with flow</b></p>

        <img src="./svg/flow_step4.svg" alt="flow_initial"/>

        <p><b>Residual Network</b></p>

        <img src="./svg/res_step4.svg" alt="step1"/>
    </div>

    <div id="step5" style="margin:20px; display: none;">
        <p><b>Step 5 </b> Find an augmenting path S->V2->V1->V3->T, smallest c<sub>f</sub>(u,v) is 4.</p>
        
        <button id="step5_prev">Prev</button>
        <button id="step5_next">Next</button>
        <p><b>Graph G with flow</b></p>

        <img src="./svg/flow_step4.svg" alt="flow_initial"/>

        <p><b>Residual Network</b></p>

        <img src="./svg/res_step5.svg" alt="step1"/>
    </div>


    <div id="step6" style="margin:20px; display: none;">
        <p><b>Step 6 </b> Augment the flow on this path by 4. All yellow edges, all add 4.</p>
        
        <button id="step6_prev">Prev</button>
        <button id="step6_next">Next</button>
        <p><b>Graph G with flow</b></p>

        <img src="./svg/flow_step6.svg" alt="flow_initial"/>

        <p><b>Residual Network</b></p>

        <img src="./svg/res_step5.svg" alt="step1"/>
    </div>

    
    <div id="step7" style="margin:20px; display: none;">
        <p><b>Step 7 </b> Build the residual network.</p>
        
        <button id="step7_prev">Prev</button>
        <button id="step7_next">Next</button>
        <p><b>Graph G with flow</b></p>

        <img src="./svg/flow_step7.svg" alt="flow_initial"/>

        <p><b>Residual Network</b></p>

        <img src="./svg/res_step7.svg" alt="step1"/>
    </div>

    <div id="step8" style="margin:20px; display: none;">
        <p><b>Step 8 </b> Find an augmenting path S->V1->V2->V3->T, smallest c<sub>f</sub>(u,v) is 4.</p>
        
        <button id="step8_prev">Prev</button>
        <button id="step8_next">Next</button>
        <p><b>Graph G with flow</b></p>

        <img src="./svg/flow_step7.svg" alt="flow_initial"/>

        <p><b>Residual Network</b></p>

        <img src="./svg/res_step8.svg" alt="step1"/>
    </div>


    <div id="step9" style="margin:20px; display: none;">
        <p><b>Step 9 </b> Augment the flow, for yellow ones add 4, blue ones minus 4.</p>
        
        <button id="step9_prev">Prev</button>
        <button id="step9_next">Next</button>
        <p><b>Graph G with flow</b></p>

        <img src="./svg/flow_step9.svg" alt="flow_initial"/>

        <p><b>Residual Network</b></p>

        <img src="./svg/res_step8.svg" alt="step1"/>
    </div>

    <div id="step10" style="margin:20px; display: none;">
        <p><b>Step 10 </b> Build the residual network.</p>
        
        <button id="step10_prev">Prev</button>
        <button id="step10_next">Next</button>
        <p><b>Graph G with flow</b></p>

        <img src="./svg/flow_step10.svg" alt="flow_initial"/>

        <p><b>Residual Network</b></p>

        <img src="./svg/res_step10.svg" alt="step1"/>
    </div>

    <div id="step11" style="margin:20px; display: none;">
        <p><b>Step 11 </b> Find an augmenting path S->V2->V4->V3->T, smallest c<sub>f</sub>(u,v) is 7.</p>
        
        <button id="step11_prev">Prev</button>
        <button id="step11_next">Next</button>
        <p><b>Graph G with flow</b></p>

        <img src="./svg/flow_step10.svg" alt="flow_initial"/>

        <p><b>Residual Network</b></p>

        <img src="./svg/res_step11.svg" alt="step1"/>
    </div>

    <div id="step12" style="margin:20px; display: none;">
        <p><b>Step 12 </b>  Augment the flow on this path. All yellow edges, all add 7.</p>
        
        <button id="step12_prev">Prev</button>
        <button id="step12_next">Next</button>
        <p><b>Graph G with flow</b></p>

        <img src="./svg/flow_step12.svg" alt="flow_initial"/>

        <p><b>Residual Network</b></p>

        <img src="./svg/res_step11.svg" alt="step1"/>
    </div>

    <div id="step13" style="margin:20px; display: none;">
        <p><b>Step 13 </b>  Build the residual network.</p>
        
        <button id="step13_prev">Prev</button>
        <button id="step13_next">Next</button>
        <p><b>Graph G with flow</b></p>

        <img src="./svg/flow_step13.svg" alt="flow_initial"/>

        <p><b>Residual Network</b></p>

        <img src="./svg/res_step13.svg" alt="step1"/>
    </div>

    <div id="step14" style="margin:20px; display: none;">
        <p><b>Step 14 </b> Find an augmenting path S->V1->V3->T, smallest c<sub>f</sub>(u,v) is 4.</p>
        
        <button id="step14_prev">Prev</button>
        <button id="step14_next">Next</button>
        <p><b>Graph G with flow</b></p>

        <img src="./svg/flow_step13.svg" alt="flow_initial"/>

        <p><b>Residual Network</b></p>

        <img src="./svg/res_step14.svg" alt="step1"/>
    </div>

    <div id="step15" style="margin:20px; display: none;">
        <p><b>Step 15 </b> Augment the flow on this path. All yellow edges, all add 4.</p>
        
        <button id="step15_prev">Prev</button>
        <button id="step15_next">Next</button>
        <p><b>Graph G with flow</b></p>

        <img src="./svg/flow_step15.svg" alt="flow_initial"/>

        <p><b>Residual Network</b></p>

        <img src="./svg/res_step14.svg" alt="step1"/>
    </div>

    <div id="step16" style="margin:20px; display: none;">
        <p><b>Step 16 </b> Build the residual network.</p>
        
        <button id="step16_prev">Prev</button>
        <button id="step16_next">Next</button>
        <p><b>Graph G with flow</b></p>

        <img src="./svg/flow_step16.svg" alt="flow_initial"/>

        <p><b>Residual Network</b></p>

        <img src="./svg/res_step16.svg" alt="step1"/>
    </div>

    <div id="step17" style="margin:20px; display: none;">
        <p>No more augmenting path, found the maximum flow</p>

        <button id="step17_prev">Prev</button>
        <p><b>Graph G with flow</b></p>

        <img src="./svg/flow_step16.svg" alt="flow_initial"/>

        <p><b>Residual Network</b></p>

        <img src="./svg/res_step16.svg" alt="step1"/>
    </div>

    </div>
</div>





<div class="section" id="res_sec">
    <div class="sec_title">
        <p>&nbsp &nbsp &nbsp Runtime of Ford-Fulkerson</p>
    </div>
    <div class="content" id="res_con">
        <p>As seen above, the runtime depends on how to find an augmenting path in G<sub>f</sub></p>
        <p>And we saw in the demo, at some steps in the middle maybe we need to redo some steps and cancell some flow</p>
        <p></p>

        <p>Suppose f* denotes a maximum flow in the transformed network, this loop of find and augment execute at most |f*| times</p>
        <p>Since the flow value increase by at lease 1 each iteration</p>
        <p></p>

        <p>In each iternation, assume we put all possible edges, both (u,v) and (v,u), into a data structure and do a BFS or DFS to find a path</p>
        <p>The time to find a path is O(V + E'), where E' &leq; 2E for edges in both directions in residual network.</p>
        <p>O(V + E') = O(2E) = O(E)</p>
        <p>Since the initialize part also takes O(E), total runtime will be O(E) + O(|f*|) * O(E) = O(E|f*|).</p>


    </div>
</div>



<div class="bottom">
  <p>Yuye.Jiang@tufts.edu  &nbsp &nbsp &nbsp  Comp150-ALG-Summer2020</p>
</div>

<script src="./js/ff.js"></script>

</body>
</html>