<!DOCTYPE html>
<html>
<head>
    <meta charset="utf-8" />
    <title>Networkflow - Concepts</title>
    <link rel="stylesheet" type="text/css" media="screen" href="style.css" />
</head>



<body>

<div class="title">
    <h1>NETWORK FLOW</h1>
    <h2> Concepts </h2>
</div>

<div class="nav-back">
    <div class="nav">
        <ul>
            <li><a href="./index.html">Introduction</a></li>
            <li><a href="./concept.html">Basic Concepts</a></li>
            <li><a href="./ff.html">Ford-Fulkerson Method</a></li>
            <li><a href="./pr.html">Push-relabel Algorithm</a></li>
            <li><a href="./resource.html">Resources</a></li>
            <li><a href="./ref.html">References</a></li>
        </ul>
    </div>
</div>


<div class="section" id="problem_intro_sec">
    <div class="sec_title">
        <p>&nbsp &nbsp &nbsp Intuition - How to make the flow larger?</p>
    </div>
    <div class="content" id="problem_intro_con">
        <ul>
            <li>Don't send anything back in a loop - that takes capacity
                <button id="cycle_play">play</button>
                <button id="cycle_reset">reset</button>
            </li>

            <svg id="cycle" width="800" height="350">
                <defs>
                    <marker id="arrow"
                            markerUnits="strokeWidth"
                            markerWidth="12"
                            markerHeight="12"
                            viewBox="0 0 12 12"
                            refX="6"
                            refY="6"
                            orient="auto">
                        <path d="M2,2 L10,6 L2,10 L6,6 L2,2" style="fill:black" />
                    </marker>
                </defs>
    
                <g>
                    <line id="sv1" x1="30" y1="165" x2="190.2" y2="58" stroke="black" stroke-width="4" marker-end="url(#arrow)" />
                    <line id="v1v3" x1="200" y1="35" x2="454" y2="35" stroke="black" stroke-width="4" marker-end="url(#arrow)" />
                    <line id="v3v2" x1="520" y1="15" x2="262.5" y2="282.5" stroke="black" stroke-width="4" marker-end="url(#arrow)" />
                    <line id= "v2v4" x1="200" y1="315" x2="454" y2="315" stroke="black" stroke-width="4" marker-end="url(#arrow)" />
                    <line id= "v4t" x1="500" y1="315" x2="665" y2="195" stroke="black" stroke-width="4" marker-end="url(#arrow)" />
                    <line id= "sv2" x1="30" y1="165" x2="190.2" y2="292" stroke="black" stroke-width="4" marker-end="url(#arrow)" />
                    <line id= "v2v1" x1="230" y1="315" x2="230" y2="81" stroke="black" stroke-width="4" marker-end="url(#arrow)" />
                    <line id= "v4v3" x1="500" y1="315" x2="500" y2="81" stroke="black" stroke-width="4" marker-end="url(#arrow)" />
                    <line id= "v3t" x1="500" y1="35" x2="662" y2="140" stroke="black" stroke-width="4" marker-end="url(#arrow)" />
                </g>
    
                <g class="flow_demo" style="display:none">
                    <line class="flow" id="sv1_f" x1="30" y1="165" x2="190.2" y2="58" stroke="blue" stroke-width="4" marker-end="url(#arrow)" style="display:none" />
                    <line class="flow" id="v1v3_f" x1="200" y1="35" x2="454" y2="35" stroke="blue" stroke-width="4" marker-end="url(#arrow)" style="display:none" />
                    <line class="flow" id="v3v2_f" x1="520" y1="15" x2="262.5" y2="282.5" stroke="blue" stroke-width="4" marker-end="url(#arrow)" style="display:none" />
                    <line class="flow" id= "v2v4_f" x1="200" y1="315" x2="454" y2="315" stroke="blue" stroke-width="4" marker-end="url(#arrow)" style="display:none" />
                    <line class="flow" id= "v4t_f" x1="500" y1="315" x2="665" y2="195" stroke="blue" stroke-width="4" marker-end="url(#arrow)" style="display:none" />
                    <line class="flow" id= "sv2_f" x1="30" y1="165" x2="190.2" y2="292" stroke="blue" stroke-width="4" marker-end="url(#arrow)" style="display:none" />
                    <line class="flow" id= "v2v1_f" x1="230" y1="315" x2="230" y2="81" stroke="blue" stroke-width="4" marker-end="url(#arrow)" style="display:none" />
                    <line class="flow" id= "v4v3_f" x1="500" y1="315" x2="500" y2="81" stroke="blue" stroke-width="4" marker-end="url(#arrow)" style="display:none" />
                    <line class="flow" id= "v3t_f" x1="500" y1="35" x2="662" y2="140" stroke="blue" stroke-width="4" marker-end="url(#arrow)" style="display:none" />
                </g>
    
                <g class="nodes">
                    <circle id="s" cx="30" cy="165" r="30" style="fill:lightblue; stroke:blue" />
                    <circle id="v1" cx="230" cy="35" r="30" style="fill:lightgreen; stroke:green" />
                    <circle id="v2" cx="230" cy="315" r="30" style="fill:lightgreen; stroke:green" />
                    <circle id="v3" cx="500" cy="35" r="30" style="fill:lightgreen; stroke:green" />
                    <circle id="v4" cx="500" cy="315" r="30" style="fill:lightgreen; stroke:green" />
                    <circle id="t" cx="700" cy="165" r="30" style="fill:lightblue; stroke:blue" />
                </g>
    
                <g>
                    <text id="stext" x="25" y="170">S</text>
                    <text id="stext" x="220" y="40">V1</text>
                    <text id="stext" x="220" y="320">V2</text>
                    <text id="stext" x="490" y="40">V3</text>
                    <text id="stext" x="490" y="320">V4</text>
                    <text id="stext" x="690" y="170">T</text>
                </g>

                <g class="flow_value" style="display: block;">
                    <text id="sv1_flow_v" x="65" y="100">11/16</text>
                    <text id="v1v3_flow_v" x="345" y="25">12/12</text>
                    <text id="v3v2_flow_v" x="340" y="165">4/9</text>
                    <text id="v2v4_flow_v" x="345" y="305">11/14</text>
                    <text id="v4t_flow_v" x="565" y="242">4/4</text>
                    <text id="sv2_flow_v" x="110" y="225">8/13</text>
                    <text id="v2v1_flow_v" x="195" y="180">1/4</text>
                    <text id="v4v3_flow_v" x="470" y="180">7/7</text>
                    <text id="v3t_flow_v" x="585" y="85">15/20</text>
                </g>
            </svg>


            <li>If there exist any path that we can fill in more capacity - fill more
                <button id="fill_play">play</button>
                <button id="fill_reset">reset</button>
            </li>
            <svg id="fill" width="800" height="350">
                <defs>
                    <marker id="arrow"
                            markerUnits="strokeWidth"
                            markerWidth="12"
                            markerHeight="12"
                            viewBox="0 0 12 12"
                            refX="6"
                            refY="6"
                            orient="auto">
                        <path d="M2,2 L10,6 L2,10 L6,6 L2,2" style="fill:black" />
                    </marker>
                </defs>
    
                <g>
                    <line id="sv1" x1="30" y1="165" x2="190.2" y2="58" stroke="black" stroke-width="4" marker-end="url(#arrow)" />
                    <line id="v1v3" x1="200" y1="35" x2="454" y2="35" stroke="black" stroke-width="4" marker-end="url(#arrow)" />
                    <line id="v3v2" x1="520" y1="15" x2="262.5" y2="282.5" stroke="black" stroke-width="4" marker-end="url(#arrow)" />
                    <line id= "v2v4" x1="200" y1="315" x2="454" y2="315" stroke="black" stroke-width="4" marker-end="url(#arrow)" />
                    <line id= "v4t" x1="500" y1="315" x2="665" y2="195" stroke="black" stroke-width="4" marker-end="url(#arrow)" />
                    <line id= "sv2" x1="30" y1="165" x2="190.2" y2="292" stroke="black" stroke-width="4" marker-end="url(#arrow)" />
                    <line id= "v2v1" x1="230" y1="315" x2="230" y2="81" stroke="black" stroke-width="4" marker-end="url(#arrow)" />
                    <line id= "v4v3" x1="500" y1="315" x2="500" y2="81" stroke="black" stroke-width="4" marker-end="url(#arrow)" />
                    <line id= "v3t" x1="500" y1="35" x2="662" y2="140" stroke="black" stroke-width="4" marker-end="url(#arrow)" />
                </g>
    
                <g class="flow_demo" style="display:none">
                    <line class="flow" id="sv1_f" x1="30" y1="165" x2="190.2" y2="58" stroke="blue" stroke-width="4" marker-end="url(#arrow)" style="display:none" />
                    <line class="flow" id="v1v3_f" x1="200" y1="35" x2="454" y2="35" stroke="blue" stroke-width="4" marker-end="url(#arrow)" style="display:none" />
                    <line class="flow" id="v3v2_f" x1="520" y1="15" x2="262.5" y2="282.5" stroke="blue" stroke-width="4" marker-end="url(#arrow)" style="display:none" />
                    <line class="flow" id= "v2v4_f" x1="200" y1="315" x2="454" y2="315" stroke="blue" stroke-width="4" marker-end="url(#arrow)" style="display:none" />
                    <line class="flow" id= "v4t_f" x1="500" y1="315" x2="665" y2="195" stroke="blue" stroke-width="4" marker-end="url(#arrow)" style="display:none" />
                    <line class="flow" id= "sv2_f" x1="30" y1="165" x2="190.2" y2="292" stroke="blue" stroke-width="4" marker-end="url(#arrow)" style="display:none" />
                    <line class="flow" id= "v2v1_f" x1="230" y1="315" x2="230" y2="81" stroke="blue" stroke-width="4" marker-end="url(#arrow)" style="display:none" />
                    <line class="flow" id= "v4v3_f" x1="500" y1="315" x2="500" y2="81" stroke="blue" stroke-width="4" marker-end="url(#arrow)" style="display:none" />
                    <line class="flow" id= "v3t_f" x1="500" y1="35" x2="662" y2="140" stroke="blue" stroke-width="4" marker-end="url(#arrow)" style="display:none" />
                </g>
    
                <g class="nodes">
                    <circle id="s" cx="30" cy="165" r="30" style="fill:lightblue; stroke:blue" />
                    <circle id="v1" cx="230" cy="35" r="30" style="fill:lightgreen; stroke:green" />
                    <circle id="v2" cx="230" cy="315" r="30" style="fill:lightgreen; stroke:green" />
                    <circle id="v3" cx="500" cy="35" r="30" style="fill:lightgreen; stroke:green" />
                    <circle id="v4" cx="500" cy="315" r="30" style="fill:lightgreen; stroke:green" />
                    <circle id="t" cx="700" cy="165" r="30" style="fill:lightblue; stroke:blue" />
                </g>
    
                <g>
                    <text id="stext" x="25" y="170">S</text>
                    <text id="stext" x="220" y="40">V1</text>
                    <text id="stext" x="220" y="320">V2</text>
                    <text id="stext" x="490" y="40">V3</text>
                    <text id="stext" x="490" y="320">V4</text>
                    <text id="stext" x="690" y="170">T</text>
                </g>
    
                <g class="flow_value" style="display: block;">
                    <text id="sv1_flow_v" x="65" y="100">11/16</text>
                    <text id="v1v3_flow_v" x="345" y="25">11/12</text>
                    <text id="v3v2_flow_v" x="340" y="165">0/9</text>
                    <text id="v2v4_flow_v" x="345" y="305">11/14</text>
                    <text id="v4t_flow_v" x="565" y="242">4/4</text>
                    <text id="sv2_flow_v" x="110" y="225">11/13</text>
                    <text id="v2v1_flow_v" x="195" y="180">0/4</text>
                    <text id="v4v3_flow_v" x="470" y="180">7/7</text>
                    <text id="v3t_flow_v" x="585" y="85">18/20</text>
                </g>
    
            </svg>
    

        </ul>
    </div>
</div>


<div class="section" id="res_sec">
    <div class="sec_title">
        <p>&nbsp &nbsp &nbsp Residual Network</p>
    </div>
    <div class="content" id="res_con">
        <p><b>Residual Network Introduction:</b>
        Represent how we can change flow in on the edges of G, notation G<sub>f</sub> </p>
        <p> <b>How much can we change on the flow?</b></p>
       <p> &nbsp &nbsp &nbsp - Send more on this edge? The possible amount to send more is based on current flow but not exceed current capacity</p>
       <p> &nbsp &nbsp &nbsp &nbsp &nbsp &nbsp c<sub>f</sub>(u,v) = c(u,v) - f(u,v)</p>
       <p> &nbsp &nbsp &nbsp - When already sent some flow, what about send less(similar to send the flow back)?</p>
       <p> &nbsp &nbsp &nbsp &nbsp &nbsp The amount we can send back is same as current flow, in reversed direction.</p>
       <p> &nbsp &nbsp &nbsp &nbsp &nbsp &nbsp c<sub>f</sub>(v,u) = f(u,v)</p>
       <p> &nbsp &nbsp &nbsp - Otherwise when there's no edge in G, there's also no change of flow</p>

       <p><b>Residual Network definition:</b> </p>
       <p> &nbsp &nbsp &nbsp Given a flow network G=(V,E) and a flow f. The residual network of G induced by f is G<sub>f</sub>=(V, E<sub>f</sub>), where</p>

       <p> &nbsp &nbsp &nbsp &nbsp &nbsp &nbsp E<sub>f</sub> = { 
           <span id="edges">(u,v) &isin; V x V: </span>
            <span id="change">    c<sub>f</sub> > 0  </span>
            }
            &nbsp &nbsp &nbsp (Click to see explaination of each part)</p> 

        <p>&nbsp &nbsp &nbsp &nbsp &nbsp &nbsp
            <span id="edges_hint" style="visibility:hidden;">The edges in this residual graph are: </span>
            <span id="change_hint" style="visibility:hidden;">All possible changes in flow as seen above</span></p>


        <p><b>Build a residual network here:</b></p>

        <p><b>Augmentation:</b> A flow in residual network G<sub>f</sub>is a hint for adding flow in G</p>
        <p>If f is a flow in G and f' is a flow in G<sub>f</sub>, we define augmentation:</p>
        <p> &nbsp &nbsp &nbsp &nbsp &nbsp &nbsp (f &uarr; f') =
            <span id="send">f(u,v) </span> 
            <span id="sendmore"> + f'(u,v) </span>
             <span id="sendback"> - f'(v,u) </span>
             &nbsp &nbsp &nbsp (Click to see explaination of each part)</p> 

             <p>&nbsp &nbsp &nbsp &nbsp &nbsp &nbsp
                <span id="send_hint" style="visibility:hidden;">The amount we already sent in flow f from u to v</span>
                <span id="sendmore_hint" style="visibility:hidden;">The amount we send more in f' from u to v</span>
                <span id="sendback_hint" style="visibility:hidden;">The amount we send back in f' from v to u</span>
            </p>

        <p><b>Augmenting Path</b>: A simple path from s to t in the residual network in G<sub>f</sub> </p>
        <p><b>Residual Capacity</b>: The maximum amount by which we can increase the flow on each edge in an augmenting 
        path p.</p>

        <p> &nbsp &nbsp &nbsp &nbsp &nbsp &nbsp c<sub>f</sub>(p) =
            <span id="min">min</span> 
            <span id="resedges"> { c<sub>f</sub>(u, v): (u, v) is on p } </span>
             &nbsp &nbsp &nbsp (Click to see explaination of each part)</p> 

        <p>&nbsp &nbsp &nbsp &nbsp &nbsp &nbsp
            <span id="min_hint" style="visibility:hidden;">The maximum amount we can increase without violating anything 
                on this path is to incerase it by smallest residual value of all edges</span>
            <span id="resedges_hint" style="visibility:hidden;">All the edges on path</span>
        </p>






    </div>
</div>



<div class="section" id="res_sec">
    <div class="sec_title">
        <p>&nbsp &nbsp &nbsp Cuts of flow networks</p>
    </div>
    <div class="content" id="res_con">
        <p><b>Cut</b>

        </p>

        <p>net flow(S,T), with graph</p>
        
        <p>capacity, with graph</p>
        
        <p>minimum cut</p>
    </div>
</div>

<div class="section" id="res_sec">
    <div class="sec_title">
        <p>&nbsp &nbsp &nbsp Max-flow min-cut Theorem</p>
    </div>
    <div class="content" id="res_con">
        <p>Proof, click pop up windows can show corollary<button id="coro26.3">WHY?</button></p>
    </div>
</div>

<div class="bottom">
  <p>Yuye.Jiang@tufts.edu  &nbsp &nbsp &nbsp  Comp150-ALG-Summer2020</p>
</div>

<script src="./js/concept.js"></script>
<script src="./js/popup_con.js"></script>

</body>
</html>